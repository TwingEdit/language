<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Academy | KiÅŸisel Ã–ÄŸretmenin</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6366f1; --s: #10b981; --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; }
        body { font-family: 'Lexend', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; line-height: 1.6; }
        .container { max-width: 800px; margin: auto; }
        .card { background: var(--card); padding: 30px; border-radius: 24px; border: 1px solid #334155; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .hidden { display: none; }
        .btn { background: var(--p); color: white; padding: 18px; border-radius: 16px; border: none; cursor: pointer; font-size: 1.1rem; font-weight: 600; width: 100%; transition: 0.3s; margin-top: 10px; }
        .btn:hover { background: #4f46e5; transform: scale(1.02); }
        .opt { display: block; width: 100%; padding: 15px; margin: 10px 0; background: #334155; border: 2px solid transparent; border-radius: 12px; color: white; text-align: left; cursor: pointer; transition: 0.2s; }
        .opt:hover { border-color: var(--p); background: #475569; }
        
        /* Ders Kutusu */
        .lesson-box { background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%); padding: 30px; border-radius: 20px; border-left: 10px solid var(--s); margin-bottom: 40px; }
        .mini-quiz { background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; margin-top: 20px; border: 1px dashed var(--s); }
        .teacher-note { font-style: italic; color: #94a3b8; border-left: 3px solid #6366f1; padding-left: 15px; margin: 15px 0; }
        .word-tag { display: inline-block; background: #064e3b; color: #34d399; padding: 5px 12px; border-radius: 8px; margin: 5px; font-size: 0.9rem; font-weight: bold; }
        .progress { height: 10px; background: #334155; border-radius: 10px; margin-bottom: 25px; overflow: hidden; }
        .fill { height: 100%; background: var(--s); transition: 0.4s; }
    </style>
</head>
<body>

<div class="container">
    <div id="home" class="card" style="text-align: center;">
        <h1 style="font-size: 3rem; margin-bottom: 10px;">HoÅŸ Geldin! ğŸ“</h1>
        <p style="color: #94a3b8; margin-bottom: 30px;">Ã–nce seviyeni gÃ¶relim, sonra tek tek eksiklerini "mala anlatÄ±r gibi" halledelim.</p>
        <button class="btn" onclick="start()">Hadi BaÅŸlayalÄ±m</button>
    </div>

    <div id="quiz" class="card hidden">
        <div class="progress"><div id="bar" class="fill"></div></div>
        <div id="q-meta" style="color: var(--p); font-weight: bold;"></div>
        <h2 id="q-text"></h2>
        <div id="options"></div>
    </div>

    <div id="study" class="card hidden">
        <h2 style="color: var(--s); border-bottom: 2px solid #334155; padding-bottom: 10px;">Sana Ã–zel Ders PlanÄ± ğŸ“–</h2>
        <div id="lesson-area"></div>
        <button class="btn" onclick="location.reload()">Bitir ve Yeniden BaÅŸla</button>
    </div>
</div>

<script>
    // 40 Soruluk MÃ¼fredat (Ã–rnek Gruplar)
    const db = [
        { 
            q: "She ___ basketball every Friday.", a: ["play", "plays", "playing"], c: 1, t: "GeniÅŸ Zaman (Present Simple)", 
            lesson: "Bak dostum, bu en basiti. EÄŸer iÅŸi yapan 'He, She, It' ise fiilin sonuna bir 's' takÄ±sÄ± yapÄ±ÅŸtÄ±rÄ±yoruz. 'She plays', 'He eats' gibi. DiÄŸerlerinde (I, You, We, They) fiili Ã§Ä±plak bÄ±rakÄ±yoruz.",
            words: ["Every Friday: Her Cuma", "Usually: Genellikle"],
            mq: "Hangisi doÄŸru?", ma: ["I eats apple", "He eats apple"], mc: 1
        },
        { 
            q: "The window ___ by the wind last night.", a: ["broke", "was broken", "is broken"], c: 1, t: "Edilgen YapÄ± (Passive Voice)", 
            lesson: "Olay ÅŸu: Cam kendi kendini kÄ±ramaz deÄŸil mi? Bir ÅŸey 'yapÄ±ldÄ±, edildi' diyeceksek araya bir 'yardÄ±mcÄ±' (was/were) bir de fiilin 3. halini koyarÄ±z. 'Window was broken' = Cam kÄ±rÄ±ldÄ±.",
            words: ["Wind: RÃ¼zgar", "Last night: DÃ¼n gece"],
            mq: "Hangisi 'Araba yÄ±kandÄ±' demek?", ma: ["The car washed", "The car was washed"], mc: 1
        },
        { 
            q: "If I ___ a bird, I would fly to you.", a: ["am", "was", "were"], c: 2, t: "Hayali Durumlar (Conditionals)", 
            lesson: "Burada kilit nokta ÅŸu: EÄŸer 'olmayacak bir hayal' kuruyorsan, 'I was' deÄŸil 'I were' dersin. Ä°ngilizlerin garip bir huyu iÅŸte, hayal kurarken 'were' severler.",
            words: ["Bird: KuÅŸ", "Fly: UÃ§mak"],
            mq: "Hayal kurarken hangisi kullanÄ±lÄ±r?", ma: ["If I were you", "If I am you"], mc: 0
        },
        {
            q: "By 2030, robots ___ all the work.", a: ["will do", "will have done", "do"], c: 1, t: "Gelecek Ã–ncesi (Future Perfect)",
            lesson: "Bu biraz havalÄ± bir konu. Gelecekte belli bir tarihe kadar bir iÅŸ Ã§oktan bitmiÅŸ olacaksa 'will have + V3' kullanÄ±rÄ±z. 'Robotlar iÅŸi bitirmiÅŸ olacak' diyoruz yani.",
            words: ["By 2030: 2030'a kadar", "Degree: Derece/Diploma"],
            mq: "Hangisi 'BitirmiÅŸ olacaÄŸÄ±m' demek?", ma: ["I will finish", "I will have finished"], mc: 1
        }
        // ... (Burada 40 soruya tamamlanan liste devam eder)
    ];

    let current = 0, score = 0, mistakes = [];

    function start() {
        document.getElementById('home').classList.add('hidden');
        document.getElementById('quiz').classList.remove('hidden');
        loadQ();
    }

    function loadQ() {
        const q = db[current];
        document.getElementById('bar').style.width = ((current+1)/db.length*100) + "%";
        document.getElementById('q-meta').innerText = `ADIM ${current+1} / ${db.length}`;
        document.getElementById('q-text').innerText = q.q;
        const box = document.getElementById('options');
        box.innerHTML = '';
        q.a.forEach((o, i) => {
            const b = document.createElement('button');
            b.className = 'opt';
            b.innerText = o;
            b.onclick = () => {
                if(i === q.c) score++;
                else mistakes.push(q);
                current++;
                if(current < db.length) loadQ();
                else showLessons();
            };
            box.appendChild(b);
        });
    }

    function showLessons() {
        document.getElementById('quiz').classList.add('hidden');
        document.getElementById('study').classList.remove('hidden');
        const area = document.getElementById('lesson-area');
        area.innerHTML = `<p>Test bitti! <b>40 soruda ${score} doÄŸru</b> yaptÄ±n. Gel ÅŸimdi ÅŸu eksiklerine 'mala anlatÄ±r gibi' bakalÄ±m:</p>`;

        if(mistakes.length === 0) {
            area.innerHTML += "<div class='lesson-box'>MÃ¼kemmelsin! HiÃ§ yanlÄ±ÅŸÄ±n yok. Direkt Oxford'a yazÄ±lalÄ±m mÄ±?</div>";
            return;
        }

        let seen = new Set();
        mistakes.forEach(m => {
            if(!seen.has(m.t)) {
                const l = document.createElement('div');
                l.className = 'lesson-box';
                l.innerHTML = `
                    <h3>ğŸ“ Konu: ${m.t}</h3>
                    <div class="teacher-note">"${m.lesson}"</div>
                    <div style="margin: 15px 0;">
                        <b>Bu konunun kelimeleri:</b><br>
                        ${m.words.map(w => `<span class="word-tag">${w}</span>`).join('')}
                    </div>
                    <div class="mini-quiz">
                        <strong>ğŸ¯ PekiÅŸtirme Sorusu:</strong><br>${m.mq}<br>
                        <button class="opt" onclick="this.style.background='#10b981'; this.innerText='DoÄŸru! âœ…'">${m.ma[m.mc]}</button>
                    </div>
                `;
                area.appendChild(l);
                seen.add(m.t);
            }
        });
    }
</script>
</body>
</html>
