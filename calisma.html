<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Mastery Academy | 40 Soruluk Dev Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0b0f1a; --card: #161e2d; --p: #6366f1; --s: #10b981; --err: #f43f5e; }
        body { background: var(--bg); color: white; font-family: 'Outfit', sans-serif; margin: 0; padding: 20px; }
        
        /* Ãœst Bar ve SayaÃ§ */
        .progress-wrapper { width: 100%; height: 14px; background: #1f2937; border-radius: 20px; margin-bottom: 20px; overflow: hidden; display: none; border: 1px solid #334155; }
        #bar-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--p), var(--s)); transition: 0.3s; }
        .q-counter { font-size: 1.1rem; color: var(--p); font-weight: 800; margin-bottom: 10px; display: none; justify-content: space-between; }

        .workspace { display: none; grid-template-columns: 1fr 1.2fr; gap: 25px; max-width: 1400px; margin: auto; height: 90vh; }
        .pane { background: var(--card); padding: 30px; border-radius: 25px; border: 1px solid #334155; overflow-y: auto; }
        
        /* Soru ve ÅÄ±klar */
        .q-block { background: #0b0f1a; padding: 25px; border-radius: 20px; border: 1px solid #1e293b; margin-bottom: 20px; }
        .opt-btn { width: 100%; padding: 15px; margin: 8px 0; background: #1f2937; border: 1px solid #334155; color: white; border-radius: 12px; cursor: pointer; text-align: left; transition: 0.2s; font-size: 1rem; }
        .opt-btn:hover { border-color: var(--p); background: #232d3f; }

        /* SonuÃ§ Paneli */
        .result-card { padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 6px solid; background: #1a2333; }
        .res-ok { border-color: var(--s); }
        .res-no { border-color: var(--err); }
        
        .start-btn { background: var(--p); color: white; padding: 20px 60px; border-radius: 15px; border: none; font-size: 1.5rem; cursor: pointer; font-weight: 800; }
    </style>
</head>
<body>

    <div id="intro" style="text-align:center; margin-top:150px;">
        <h1>HazÄ±r mÄ±sÄ±n? ğŸ¯</h1>
        <p>A2 - B2 arasÄ± tam 40 soru. Seviyeni ÅŸimdi Ã¶lÃ§elim.</p>
        <button class="start-btn" onclick="initTest()">TESTE BAÅLA</button>
    </div>

    <div id="ws" class="workspace">
        <div class="pane" id="left-side">
            <h2>Konu Rehberi</h2>
            <div id="hint-box">Soruya gÃ¶re ipucu burada belirecek.</div>
        </div>
        <div class="pane">
            <div class="q-counter" id="q-head">
                <span>SEVÄ°YE ANALÄ°ZÄ°</span>
                <span id="q-num">1 / 40</span>
            </div>
            <div class="progress-wrapper" id="p-wrap"><div id="bar-fill"></div></div>
            <div id="quiz-area"></div>
        </div>
    </div>

<script>
    const questions = [
        // 1-10: A2 Seviyesi (Basic Tenses)
        {q: "She ___ (not/work) on Sundays.", a: ["don't work", "doesn't work", "isn't work"], c: 1, h: "Simple Present: He/She/It iÃ§in 'doesn't' kullanÄ±lÄ±r."},
        {q: "Look! The baby ___ (sleep) right now.", a: ["is sleeping", "sleeps", "sleeping"], c: 0, h: "Present Continuous: Åu an olan iÅŸlerde 'am/is/are + ing' gelir."},
        {q: "We ___ (go) to the cinema last night.", a: ["go", "went", "gone"], c: 1, h: "Simple Past: GeÃ§miÅŸ zaman iÃ§in fiilin 2. hali (went)."},
        {q: "___ you ever eaten sushi?", a: ["Did", "Do", "Have"], c: 2, h: "Present Perfect: Deneyimlerden bahsederken 'Have/Has + V3'."},
        {q: "I think it ___ (rain) tomorrow.", a: ["will rain", "rains", "is going to rain"], c: 0, h: "Future: Tahminlerde 'will' kullanÄ±lÄ±r."},
        {q: "This is ___ book I have ever read.", a: ["the best", "better", "goodest"], c: 0, h: "Superlatives: 'En iyi' derken 'the best' kullanÄ±lÄ±r."},
        {q: "There isn't ___ milk in the fridge.", a: ["some", "any", "many"], c: 1, h: "Quantifiers: Olumsuzlarda 'any' kullanÄ±lÄ±r."},
        {q: "How ___ water do you drink?", a: ["many", "much", "any"], c: 1, h: "Quantifiers: SayÄ±lamayanlarda 'much' kullanÄ±lÄ±r."},
        {q: "I ___ (study) when the phone rang.", a: ["studied", "was studying", "am studying"], c: 1, h: "Past Continuous: GeÃ§miÅŸte bir iÅŸ yapÄ±lÄ±rken baÅŸka bir ÅŸey olmasÄ±."},
        {q: "He is ___ than his brother.", a: ["tall", "taller", "the tallest"], c: 1, h: "Comparatives: KarÅŸÄ±laÅŸtÄ±rmada '-er' takÄ±sÄ± gelir."},

        // 11-20: A2+ / B1 (Modals & Perfects)
        {q: "You ___ smoke here. It's forbidden!", a: ["mustn't", "don't have to", "shouldn't"], c: 0, h: "Modals: Yasaklarda 'mustn't' kullanÄ±lÄ±r."},
        {q: "I ___ (live) here since 2010.", a: ["lived", "have lived", "am living"], c: 1, h: "Present Perfect: 'Since' varsa sÃ¼reÃ§ vardÄ±r."},
        {q: "If it rains, we ___ at home.", a: ["stay", "will stay", "stayed"], c: 1, h: "If Clause Type 1: Gelecek ihtimali."},
        {q: "He ___ speak three languages fluently.", a: ["can", "must", "should"], c: 0, h: "Modals: Yeteneklerde 'can' kullanÄ±lÄ±r."},
        {q: "The room ___ (clean) every day.", a: ["cleans", "is cleaned", "is cleaning"], c: 1, h: "Passive Voice: Edilgen yapÄ± 'be + V3'."},
        {q: "I forgot ___ my keys.", a: ["to bring", "bringing", "bring"], c: 0, h: "Infinitive: 'Forget' fiilinden sonra 'to V1'."},
        {q: "She's interested ___ learning art.", a: ["on", "at", "in"], c: 2, h: "Prepositions: 'Interested in' kalÄ±ptÄ±r."},
        {q: "___ you like some coffee?", a: ["Do", "Would", "Will"], c: 1, h: "Polite Offers: Tekliflerde 'Would you like' kullanÄ±lÄ±r."},
        {q: "I have ___ finished my homework.", a: ["yet", "already", "since"], c: 1, h: "Present Perfect: Ã‡oktan bitti anlamÄ±nda 'already'."},
        {q: "You ___ see a doctor. sen hastasÄ±n.", a: ["should", "could", "would"], c: 0, h: "Advice: Tavsiyede 'should' kullanÄ±lÄ±r."},

        // 21-40: B1+ / B2 (Complex Structures)
        {q: "By next year, I ___ (finish) university.", a: ["will finish", "will have finished", "finish"], c: 1, h: "Future Perfect: Gelecekte bitmiÅŸ olacak iÅŸler."},
        {q: "I wish I ___ (have) more money.", a: ["have", "had", "will have"], c: 1, h: "Wish Clauses: Åu anki piÅŸmanlÄ±kta V2 kullanÄ±lÄ±r."},
        {q: "He told me that he ___ (be) tired.", a: ["is", "was", "will be"], c: 1, h: "Reported Speech: GeÃ§miÅŸe aktarÄ±m yapÄ±lÄ±r."},
        {q: "This car is ___ expensive for me.", a: ["too", "enough", "very"], c: 0, h: "Adverbs: AÅŸÄ±rÄ±lÄ±k anlamÄ±nda 'too'."},
        {q: "I am used to ___ (wake up) early.", a: ["wake up", "waking up", "woke up"], c: 1, h: "Gerund: 'Used to' bir ÅŸeye alÄ±ÅŸÄ±k olmak anlamÄ±ndaysa '-ing' alÄ±r."},
        {q: "The man ___ lives next door is a doctor.", a: ["who", "which", "whose"], c: 0, h: "Relative Clauses: Ä°nsanlar iÃ§in 'who' kullanÄ±lÄ±r."},
        {q: "She ___ (work) for 5 hours before she slept.", a: ["worked", "had been working", "has worked"], c: 1, h: "Past Perfect Continuous: GeÃ§miÅŸteki sÃ¼reÃ§."},
        {q: "Despite ___ ill, he went to work.", a: ["he was", "being", "he is"], c: 1, h: "Conjunctions: 'Despite'tan sonra isim veya -ing gelir."},
        {q: "It's time you ___ (go) to bed.", a: ["go", "went", "going"], c: 1, h: "Structures: 'It's time' yapÄ±sÄ± V2 ile kullanÄ±lÄ±r."},
        {q: "Hardly ___ I started, the light went out.", a: ["had", "did", "was"], c: 0, h: "Inversion: Devrik cÃ¼mle yapÄ±sÄ±."},
        {q: "I'd rather ___ at home today.", a: ["stay", "to stay", "staying"], c: 0, h: "Preferences: 'Would rather'dan sonra yalÄ±n fiil gelir."},
        {q: "She succeeded ___ passing the exam.", a: ["on", "at", "in"], c: 2, h: "Prepositions: 'Succeed in' kalÄ±ptÄ±r."},
        {q: "Neither Jack ___ Jill was there.", a: ["or", "nor", "and"], c: 1, h: "Correlatives: 'Neither ... nor' kalÄ±bÄ±."},
        {q: "I'll call you as soon as I ___ (arrive).", a: ["arrive", "will arrive", "arrived"], c: 0, h: "Time Clauses: Yan cÃ¼mlede 'will' kullanÄ±lmaz."},
        {q: "You had better ___ (study) harder.", a: ["study", "to study", "studying"], c: 0, h: "Modals: 'Had better'dan sonra yalÄ±n fiil."},
        {q: "The mountain ___ we climbed was high.", a: ["who", "which", "where"], c: 1, h: "Relative Clauses: Nesneler iÃ§in 'which'."},
        {q: "I ___ (not/see) him for ages.", a: ["didn't see", "haven't seen", "don't see"], c: 1, h: "Present Perfect: 'For' ile sÃ¼reÃ§ vurgusu."},
        {q: "If I ___ you, I wouldn't do that.", a: ["am", "was", "were"], c: 2, h: "If Clause Type 2: Hayali durum (were)."},
        {q: "The news ___ (be) very shocking.", a: ["is", "are", "were"], c: 0, h: "Nouns: 'News' kelimesi tekildir."},
        {q: "I enjoy ___ (listen) to music.", a: ["to listen", "listening", "listen"], c: 1, h: "Gerund: 'Enjoy'dan sonra '-ing' gelir."}
    ];

    let currentQ = 0;
    let results = [];

    function initTest() {
        document.getElementById('intro').style.display = 'none';
        document.getElementById('ws').style.display = 'grid';
        document.getElementById('p-wrap').style.display = 'block';
        document.getElementById('q-head').style.display = 'flex';
        render();
    }

    function render() {
        const qData = questions[currentQ];
        document.getElementById('hint-box').innerHTML = `<h3>Ä°pucu âœ¨</h3><p>${qData.h}</p>`;
        document.getElementById('q-num').innerText = `${currentQ + 1} / 40`;
        
        let btns = "";
        qData.a.forEach((opt, i) => {
            btns += `<button class="opt-btn" onclick="check(${i})">${opt}</button>`;
        });

        document.getElementById('quiz-area').innerHTML = `
            <div class="q-block">
                <p style="font-size:1.3rem; line-height:1.5;">${qData.q}</p>
                ${btns}
            </div>
        `;
        
        // Bar gÃ¼ncelleme
        document.getElementById('bar-fill').style.width = (currentQ / 40 * 100) + '%';
    }

    function check(idx) {
        const correctIdx = questions[currentQ].c;
        results.push({
            question: questions[currentQ].q,
            userAns: questions[currentQ].a[idx],
            correctAns: questions[currentQ].a[correctIdx],
            isRight: idx === correctIdx
        });

        currentQ++;
        if(currentQ < 40) render(); else finish();
    }

    function finish() {
        document.getElementById('bar-fill').style.width = '100%';
        document.getElementById('q-num').innerText = "ANALÄ°Z HAZIR!";
        const area = document.getElementById('quiz-area');
        area.innerHTML = "<h2>Test SonuÃ§larÄ±n ğŸ“Š</h2>";

        results.forEach((res, i) => {
            const card = document.createElement('div');
            // DoÄŸru yeÅŸil, yanlÄ±ÅŸ kÄ±rmÄ±zÄ±
            card.className = `result-card ${res.isRight ? 'res-ok' : 'res-no'}`;
            card.innerHTML = `
                <b>${i+1}. ${res.question}</b><br>
                Senin CevabÄ±n: ${res.userAns} ${res.isRight ? 'âœ…' : 'âŒ'}<br>
                ${!res.isRight ? `<span style="color:var(--s)">DoÄŸru Cevap: ${res.correctAns}</span>` : ''}
            `;
            area.appendChild(card);
        });

        area.innerHTML += `
            <button class="start-btn" style="width:100%; margin-top:20px;" onclick="location.href='analiz.html'">
                EKSÄ°K KONULARI Ã‡ALIÅ ğŸ“–
            </button>
        `;
    }
</script>
</body>
</html>
