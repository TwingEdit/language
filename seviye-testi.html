<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Mastery English | Tense Analizi</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0b0f1a; --card: #161e2d; --p: #6366f1; --s: #10b981; --err: #f43f5e; }
        body { background: var(--bg); color: white; font-family: 'Outfit', sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1100px; margin: auto; }
        .header { display: flex; justify-content: space-between; font-weight: 800; color: var(--p); margin-bottom: 10px; }
        .progress-bar { width: 100%; height: 12px; background: #1f2937; border-radius: 10px; overflow: hidden; margin-bottom: 30px; border: 1px solid #334155; }
        #bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--p), var(--s)); transition: 0.5s; }
        .main-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 25px; }
        .pane { background: var(--card); padding: 35px; border-radius: 30px; border: 1px solid #334155; min-height: 480px; box-shadow: 0 10px 30px rgba(0,0,0,0.4); }
        .opt { width: 100%; padding: 18px; margin: 10px 0; background: #1f2937; color: white; border: 1px solid #334155; border-radius: 15px; cursor: pointer; text-align: left; font-size: 1.1rem; transition: 0.3s; font-family: 'Outfit'; }
        .opt:hover { border-color: var(--p); background: #232d3f; transform: translateX(8px); }
        
        /* SKOR TABELASI TASARIMI */
        .score-container { display: flex; justify-content: center; gap: 20px; margin: 30px 0; }
        .score-card { background: #1f2937; padding: 25px; border-radius: 20px; border: 2px solid #334155; min-width: 180px; text-align: center; }
        .score-val { font-size: 3.5rem; font-weight: 800; display: block; line-height: 1; margin-top: 10px; }
        
        .res-card { padding: 15px; border-radius: 12px; margin-bottom: 10px; border-left: 8px solid; background: #0f172a; }
        .btn-finish { background: var(--s); color: white; padding: 22px; border-radius: 20px; border: none; width: 100%; cursor: pointer; font-weight: 800; font-size: 1.3rem; margin-top: 20px; }
    </style>
</head>
<body>

<div id="quiz-screen" class="container">
    <div class="header"><span id="q-count-text">Y√úKLENƒ∞YOR...</span><span id="p-text">%0</span></div>
    <div class="progress-bar"><div id="bar"></div></div>
    <div class="main-grid">
        <div class="pane">
            <h2 style="color:var(--s); margin-top:0;">Gramer Notu üí°</h2>
            <p id="hint" style="color:#94a3b8; line-height:1.7; font-size: 1.1rem;"></p>
        </div>
        <div class="pane" id="q-area"></div>
    </div>
</div>

<div id="result-screen" class="container" style="display:none">
    <h1 style="text-align:center; font-size: 2.5rem; margin-bottom: 5px;">Analiz Raporun üìä</h1>
    
    <div class="score-container">
        <div class="score-card" style="border-color: var(--s);">
            <span style="color: var(--s); font-weight: 800; letter-spacing: 1px;">DOƒûRU</span>
            <span id="final-correct" class="score-val" style="color: var(--s);">0</span>
        </div>
        <div class="score-card" style="border-color: var(--err);">
            <span style="color: var(--err); font-weight: 800; letter-spacing: 1px;">YANLI≈û</span>
            <span id="final-wrong" class="score-val" style="color: var(--err);">0</span>
        </div>
    </div>

    <div id="res-list"></div>
    <button class="btn-finish" onclick="location.href='index.html'">ANA SAYFAYA D√ñN ‚Üí</button>
</div>

<script>
    const questions = [
        {q: "She ___ to the gym every morning.", a: ["go", "goes", "going"], c: 1, h: "Simple Present: He/She/It fiili -s alƒ±r."},
        {q: "Water ___ at 100 degrees.", a: ["boil", "boils", "is boiling"], c: 1, h: "Bilimsel ger√ßekler Geni≈ü Zaman ile s√∂ylenir."},
        {q: "___ you play the guitar?", a: ["Do", "Does", "Are"], c: 0, h: "You i√ßin soru kalƒ±bƒ± 'Do'dur."},
        {q: "He ___ like spicy food.", a: ["don't", "doesn't", "isn't"], c: 1, h: "Olumsuzda He/She/It i√ßin 'doesn't' gelir."},
        {q: "The train ___ at 10:00 every day.", a: ["leaves", "leave", "is leaving"], c: 0, h: "Zaman √ßizelgeleri Geni≈ü Zaman'dƒ±r."},
        {q: "Look! The baby ___.", a: ["sleeps", "is sleeping", "sleep"], c: 1, h: "≈ûu an olan eylemler (is sleeping)."},
        {q: "I ___ a book these days.", a: ["read", "am reading", "reads"], c: 1, h: "Ge√ßici s√ºre√ßler ≈ûimdiki Zaman'dƒ±r."},
        {q: "They ___ soccer right now.", a: ["play", "are playing", "plays"], c: 1, h: "Now/Right now ifadeleri -ing gerektirir."},
        {q: "Why ___ you laughing?", a: ["do", "are", "is"], c: 1, h: "≈ûu anki durumu sorma kalƒ±bƒ±."},
        {q: "The weather ___ colder now.", a: ["gets", "is getting", "get"], c: 1, h: "Deƒüi≈üen durumlar ≈ûimdiki Zaman'dƒ±r."},
        {q: "I ___ a movie yesterday.", a: ["saw", "see", "seen"], c: 0, h: "Past Simple: D√ºn (yesterday) V2 hali (saw)."},
        {q: "Where ___ you go last night?", a: ["did", "do", "were"], c: 0, h: "Ge√ßmi≈ü zaman soru yardƒ±mcƒ± fiili 'did'."},
        {q: "She ___ her homework an hour ago.", a: ["finished", "finish", "finishes"], c: 0, h: "Belirli ge√ßmi≈ü zaman V2 gerektirir."},
        {q: "We ___ not go out last night.", a: ["did", "do", "were"], c: 0, h: "Olumsuz ge√ßmi≈ü zaman 'did not'."},
        {q: "They ___ born in 1990.", a: ["was", "were", "did"], c: 1, h: "You/We/They i√ßin 'were born' kullanƒ±lƒ±r."},
        {q: "This time next week, I ___ on a beach.", a: ["will be lying", "lie", "am lying"], c: 0, h: "Gelecekte s√ºrecek eylem."},
        {q: "At 9 PM tonight, he ___ dinner.", a: ["eats", "will be eating", "will eat"], c: 1, h: "Gelecekte belirli bir andaki eylem."},
        {q: "I ___ working all day tomorrow.", a: ["will be", "am", "will"], c: 0, h: "Gelecek s√ºre√ß vurgusu."},
        {q: "___ you be using your laptop later?", a: ["Will", "Do", "Are"], c: 0, h: "Nazik√ße gelecek planƒ± sorma."},
        {q: "They ___ traveling this time tomorrow.", a: ["will", "will be", "are"], c: 1, h: "Belirli gelecek zaman noktasƒ±."},
        {q: "I ___ my homework already.", a: ["finish", "have finished", "finished"], c: 1, h: "Present Perfect: Belirsiz ge√ßmi≈ü."},
        {q: "How long ___ you lived here?", a: ["do", "did", "have"], c: 2, h: "S√ºre√ß sorma (Present Perfect)."},
        {q: "She ___ just arrived.", a: ["has", "is", "did"], c: 0, h: "Hen√ºz bitmi≈ü eylem (just)."},
        {q: "I ___ never been to Japan.", a: ["am", "did", "have"], c: 2, h: "Hayat tecr√ºbesi (never/ever)."},
        {q: "We ___ known each other for years.", a: ["have", "did", "are"], c: 0, h: "S√ºre√ß bildiren durumlar."},
        {q: "I think it ___ rain tomorrow.", a: ["will", "is going to", "rains"], c: 0, h: "Tahmin (will)."},
        {q: "Watch out! You ___ fall.", a: ["will", "are going to", "fall"], c: 1, h: "G√∂zle g√∂r√ºl√ºr kanƒ±t (be going to)."},
        {q: "I ___ meet them at 5 PM.", a: ["will", "am going to", "meet"], c: 1, h: "√ñnceden planlanmƒ±≈ü eylem."},
        {q: "By 2030, technology ___ changed.", a: ["will", "will have", "is"], c: 1, h: "Future Perfect: Gelecekte bitmi≈ü olacak."},
        {q: "If it ___ tomorrow, I'll stay home.", a: ["rains", "will rain", "rain"], c: 0, h: "If Type 1: Geni≈ü zaman kullanƒ±lƒ±r."},
        {q: "The book ___ written in 1850.", a: ["is", "was", "were"], c: 1, h: "Passive: Ge√ßmi≈ü zaman edilgen."},
        {q: "I wish I ___ a car.", a: ["have", "had", "will have"], c: 1, h: "≈ûu anki pi≈ümanlƒ±k (wish + V2)."},
        {q: "She is interested ___ music.", a: ["at", "on", "in"], c: 2, h: "Kalƒ±p: Interested in."},
        {q: "I am good ___ English.", a: ["at", "in", "on"], c: 0, h: "Kalƒ±p: Good at."},
        {q: "He forgot ___ the door.", a: ["to lock", "locking", "lock"], c: 0, h: "Yapƒ±lmasƒ± gereken i≈üi unutmak."},
        {q: "I look forward to ___ you.", a: ["meet", "meeting", "to meet"], c: 1, h: "Kalƒ±p: Look forward to + V-ing."},
        {q: "You ___ smoke here. It's forbidden.", a: ["mustn't", "don't have to", "shouldn't"], c: 0, h: "Yasak (mustn't)."},
        {q: "You ___ see a doctor. You look ill.", a: ["should", "would", "must"], c: 0, h: "Tavsiye (should)."},
        {q: "While I ___ cooking, the lights went out.", a: ["am", "was", "did"], c: 1, h: "Ge√ßmi≈üte uzun eylem (was -ing)."},
        {q: "I ___ my keys. I can't find them.", a: ["lost", "have lost", "lose"], c: 1, h: "Etkisi s√ºren olay (Present Perfect)."}
    ];

    let current = 0;
    let score = [];

    function render() {
        if(current >= 40) {
            document.getElementById('quiz-screen').style.display='none';
            document.getElementById('result-screen').style.display='block';
            
            const list = document.getElementById('res-list');
            let correctCount = 0;
            
            score.forEach((s, i) => {
                if(s.ok) correctCount++;
                const d = document.createElement('div');
                d.className = `res-card`;
                d.style.borderLeftColor = s.ok ? 'var(--s)' : 'var(--err)';
                d.innerHTML = `<b>${i+1}. ${s.q}</b><br>Senin Cevabƒ±n: ${s.u} ${s.ok ? '‚úÖ' : '‚ùå'}`;
                list.appendChild(d);
            });
            
            // SKORLARI YAZDIRAN KISIM
            document.getElementById('final-correct').innerText = correctCount;
            document.getElementById('final-wrong').innerText = 40 - correctCount;
            
            window.scrollTo(0,0);
            return;
        }

        const data = questions[current];
        const pc = Math.round((current / 40) * 100);
        document.getElementById('q-count-text').innerText = `SORU: ${current + 1} / 40`;
        document.getElementById('p-text').innerText = `%${pc}`;
        document.getElementById('bar').style.width = pc + "%";
        document.getElementById('hint').innerText = data.h;

        let optHtml = `<p style="font-size:1.6rem; font-weight:600; margin-bottom:30px;">${data.q}</p>`;
        data.a.forEach((o, i) => {
            optHtml += `<button class="opt" onclick="next(${i})">${o}</button>`;
        });
        document.getElementById('q-area').innerHTML = optHtml;
    }

    function next(idx) {
        score.push({q: questions[current].q, u: questions[current].a[idx], ok: idx === questions[current].c});
        current++;
        render();
    }
    render();
</script>
</body>
</html>
